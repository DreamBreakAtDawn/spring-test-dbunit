<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.7 at 2016-04-14 
 | Rendered using Apache Maven Fluido Skin 1.5
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20160414" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Spring Test DBUnit &#x2013; Frequently Asked Questions</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.5.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.5.min.js"></script>

                      </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="https://github.com/springtestdbunit/spring-test-dbunit">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>Spring Test DBUnit</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
              
                              <li class="">
                    <a href="http://www.github.com" class="externalLink" title="GitHub">
        GitHub</a>
                    <span class="divider">/</span>
      </li>
            <li class="">
                    <a href="https://github.com/springtestdbunit/spring-test-dbunit" class="externalLink" title="spring-test-dbunit">
        spring-test-dbunit</a>
                    <span class="divider">/</span>
      </li>
        <li class="active ">Frequently Asked Questions</li>
        
              
                <li id="projectVersion" class="pull-right">Version: 1.3.0-SNAPSHOT</li>
      
                                    
    <li class="pull-right">
        <span class="divider">|</span>
                      <a href="http://www.junit.org/" class="externalLink" title="JUnit">
        JUnit</a>
      </li>

  
    <li class="pull-right">
        <span class="divider">|</span>
                      <a href="http://www.dbunit.org/" class="externalLink" title="DBUnit">
        DBUnit</a>
      </li>

  
    <li class="pull-right">
                      <a href="http://www.springsource.org/get-started" class="externalLink" title="Spring Framework">
        Spring Framework</a>
      </li>

                    </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
              
                <ul class="nav nav-list">
                    <li class="nav-header">Overview</li>
                              
      <li>
  
                          <a href="index.html" title="Spring-Test DBUnit">
          <span class="none"></span>
        Spring-Test DBUnit</a>
            </li>
                
      <li>
  
                          <a href="sample.html" title="Quick Start Example">
          <span class="none"></span>
        Quick Start Example</a>
            </li>
                
      <li class="active">
  
            <a href="#"><span class="none"></span>Frequently Asked Questions</a>
          </li>
                                        <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                    
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <span class="icon-chevron-right"></span>
        Project Information</a>
                  </li>
                                                                                                                                                                              
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <span class="icon-chevron-right"></span>
        Project Reports</a>
                  </li>
            </ul>
              
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <h1>Frequently Asked Questions</h1>
<div class="section">
<h2><a name="Is_there_an_easy_way_to_specify_the_Oracle_database_schema_name_to_use"></a>Is there an easy way to specify the Oracle database schema name to use?</h2>
<p>You will need to use a custom dbUnitDatabaseConnection bean if you want to specify a schema. Something like:</p>

<div class="source">
<div class="source"><pre class="prettyprint">&lt;bean id=&quot;dbUnitDatabaseConnection&quot; class=&quot;org.springframework.test.dbunit.bean.DatabaseDataSourceConnectionFactoryBean&quot;&gt;
	&lt;property name=&quot;schema&quot; ref=&quot;myschema&quot;/&gt;
&lt;/bean&gt;
</pre></div></div>
<p>This specified schema will be passed to the org.dbunit.database.DatabaseConnection <a class="externalLink" href="http://www.dbunit.org/apidocs/org/dbunit/database/DatabaseConnection.html#DatabaseConnection%28java.sql.Connection,%20java.lang.String%29">constructor</a>.</p></div>
<div class="section">
<h2><a name="Is_this_project_in_a_Maven_repository"></a>Is this project in a Maven repository?</h2>
<p>Yes it is. see <a class="externalLink" href="http://mvnrepository.com/artifact/com.github.springtestdbunit/spring-test-dbunit">http://mvnrepository.com/artifact/com.github.springtestdbunit/spring-test-dbunit</a> for details.</p></div>
<div class="section">
<h2><a name="Is_there_a_way_to_clear_out_the_Database_when_tests_are_complete"></a>Is there a way to clear out the Database when tests are complete?</h2>
<p>The recommendation from DBUnit is that you have a good database setup and don&#x2019;t cleanup (see <a class="externalLink" href="http://www.dbunit.org/bestpractices.html#nocleanup)">http://www.dbunit.org/bestpractices.html#nocleanup)</a>. That being said there are occasions where you might want to cleanup your database after every test.</p>
<p>There are a couple of strategies that you can use:</p>
<p>1) Use the Spring TransactionalTestExecutionListener and rollback after each test. See the section on Transactions in the project <a href="index.html">readme</a>. This approach can work work for many tests, however, sometimes you may not want to rollback transactions to be sure that no exceptions would have been raised on the commit. For more information about Spring testing with JDBC see the <a class="externalLink" href="http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/testing.html#integration-testing-support-jdbc">Spring Reference Documentation</a>.</p>
<p>2) Use the @DatabaseTearDown annotation on the test class and provide a reset DBUnit XML file. Creating a reset script can often be difficult if you have foreign key constraints (see <a class="externalLink" href="http://www.andrewspencer.net/2011/solve-foreign-key-problems-in-dbunit-test-data/">this blog post</a>). Any empty table element tells DBUnit to delete all data, so a reset script is generally a list of tables in the order that they can be deleted without causing foreign key constraints, e.g.:</p>

<div class="source">
<div class="source"><pre class="prettyprint">&lt;address/&gt;
&lt;custom/&gt;
</pre></div></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                      <p >Copyright &copy;                   2016.
          All rights reserved.    
      </p>
                </div>

        
                </div>
    </footer>
        </body>
</html>
